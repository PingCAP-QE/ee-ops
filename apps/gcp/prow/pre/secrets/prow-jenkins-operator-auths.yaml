apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: prow-jenkins-operator-auth
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: ee-gcp-sm
    kind: ClusterSecretStore
  target:
    name: prow-jenkins-operator-auth
    creationPolicy: Owner
  dataFrom:
    - extract:
        # json object contains keys: `user`, `token`, `url`
        key: gcp_prow_jenkins_operator_auth_json
---
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: prow-jenkins-operator-auth
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: ee-gcp-sm
    kind: ClusterSecretStore
  target:
    name: prow-jenkins-operator-ticdc-auth
    creationPolicy: Owner
  dataFrom:
    - extract:
        # json object contains keys: `user`, `token`, `url`
        key: gcp_prow_jenkins_operator_ticdc_auth_json
