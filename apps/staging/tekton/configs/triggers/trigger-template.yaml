apiVersion: triggers.tekton.dev/v1beta1
kind: TriggerTemplate
metadata:
  name: github-template
spec:
  params:
    - name: git-url
      description: The git repository full url
    - name: git-revision
      description: The git revision
      default: main
  resourcetemplates:
    - apiVersion: tekton.dev/v1beta1
      kind: PipelineRun
      metadata:
        generateName: demo-pipeline1-run-
      spec:
        pipelineRef:
          name: demo-pipeline1
          params:
            - name: git-url
              value: $(tt.params.git-url)
            - name: git-revision
              value: $(tt.params.git-revision)
          workspaces:
            - name: git-source
              volumeClaimTemplate:
                spec:
                  accessModes: [ReadWriteOnce]
                  resources:
                    requests:
                      storage: 1Gi
